<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Registro</title>
</head>
<body>

    <h1> Formulario de Registro </h1>

    <br>
    <% if(locals && locals.sesion){ %>
        <label>Hola <%= sesion.name %>, elegiste el color <%= 
            sesion.color %>, tu email es: <%= sesion.email 
            %> y tu edad es <%= sesion.edad %></label>
    <% } %>

    <br>
    <br>
    <form action="/user/signup" method="POST">
        <label>Ingrese su nombre</label>
        <input name="name" value="<%= (locals && locals.old) ? old.name : null  %>" />
        <% if(locals && locals.errors){ %>
            <% for(let i = 0; i< errors.length ; i++){ %>
                <% if(errors[i].param === 'name'){ %>
                    <label><%= errors[i].msg %></label>
                <% } %>
            <% } %>
        <% } %>
        <br>
        <select name="color" value="<%= (locals && locals.old) ? old.color : null  %>" >
            <option value="" hidden>Seleccione un Color</option>
            <option value="rojo" >Rojo</option>
            <option value="verde" >Verde</option>
            <option value="azul">Azul</option>
            <option value="amarillo">Amarillo</option>
        </select>
        <% if(locals && locals.errors){ %>
            <% for(let i = 0; i< errors.length ; i++){ %>
                <% if(errors[i].param === 'color'){ %>
                    <label><%= errors[i].msg %></label>
                <% } %>
            <% } %>
        <% } %>
        <br>
        <label>Ingrese su email</label>
        <input name="email" value="<%= (locals && locals.old) ? old.email : null  %>" />
        <% if(locals && locals.errors){ %>
            <% for(let i = 0; i< errors.length ; i++){ %>
                <% if(errors[i].param === 'email'){ %>
                    <label><%= errors[i].msg %></label>
                <% } %>
            <% } %>
        <% } %>
        <br>
        <label>Ingrese su edad</label>
        <input name="edad" value="<%= (locals && locals.old) ? old.edad : null  %>"/>
        <% if(locals && locals.errors){ %>
            <% for(let i = 0; i< errors.length ; i++){ %>
                <% if(errors[i].param === 'edad'){ %>
                    <label><%= errors[i].msg %></label>
                <% } %>
            <% } %>
        <% } %>
        <br>
        <button type="submit">Enviar</button>
    </form>
    
</body>
</html>